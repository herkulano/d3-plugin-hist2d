!function(){d3.hist2d=function(){function n(r,c){e=m(t[0]),u=m(t[1]);var g=new Array(i*i);for(A=g.length;A--;)g[A]=[];var h=0,s=0,l=0,v=0,d=0,A=r.length,k=function(){if(A>0){for(v=d=Date.now();f>d-v&&A-->0;)s=e(r[A][a]),l=u(r[A][o]),h=s*i+l,g[h][g[h].length]=r[A],g[h].k||(g[h].x=s,g[h].y=l,g[h].k=!0),d=Date.now();requestAnimationFrame(k)}else g=g.filter(function(n){return n.k}),requestAnimationFrame(q)};requestAnimationFrame(k);var q=function(){c(g)};return n}var t,r,e,u,i=0,a=0,o=1,f=12;n.bins=function(t){return arguments.length?(i=t,n):i},n.indices=function(t){return arguments.length?(a=t[0],o=t[1],n):[a,o]},n.time=function(t){return arguments.length?(f=t,n):f},n.domain=function(r){return arguments.length?(t=r,n):t},n.size=function(t){return arguments.length?(r=[t[0]/i,t[1]/i],n):r};var m=function(n){var t=+n[0],r=+n[n.length-1],e=i/(r-t),u=i-1;return function(n){return Math.max(0,Math.min(u,Math.floor(e*(n-t))))}};return n}}();