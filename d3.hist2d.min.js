!function(){d3.hist2d=function(){function n(r,h){e=c(t[0]),i=c(t[1]);var l=new Array(u*u);for(A=l.length;A--;)l[A]=[];var g=0,m=0,s=0,v=0,d=0,A=r.length,k=function(){if(A>0){for(v=d=Date.now();d-v<f&&A-- >0;)m=e(r[A][o]),s=i(r[A][a]),g=m*u+s,l[g][l[g].length]=r[A],l[g].k||(l[g].x=m,l[g].y=s,l[g].k=!0),d=Date.now();requestAnimationFrame(k)}else l=l.filter(function(n){return n.k}),requestAnimationFrame(q)};requestAnimationFrame(k);var q=function(){h(l)};return n}var t,r,e,i,u=0,o=0,a=1,f=12;n.bins=function(t){return arguments.length?(u=t,n):u},n.indices=function(t){return arguments.length?(o=t[0],a=t[1],n):[o,a]},n.interval=function(t){return arguments.length?(f=t,n):f},n.domain=function(r){return arguments.length?(t=r,n):t},n.size=function(t){return arguments.length?(r=[t[0]/u,t[1]/u],n):r};var c=function(n){var t=+n[0],r=+n[n.length-1],e=u/(r-t),i=u-1;return function(n){return Math.max(0,Math.min(i,Math.floor(e*(n-t))))}};return n}}();