!function(){d3.hist2d=function(){function n(r,g){e=c(t[0]),u=c(t[1]);var m=new Array(i*i);for(A=m.length;A--;)m[A]=[];var h=0,l=0,s=0,v=0,d=0,A=r.length,k=function(){if(A>0){for(v=d=Date.now();f>d-v&&A-->0;)l=e(r[A][a]),s=u(r[A][o]),h=l*i+s,m[h][m[h].length]=r[A],m[h].k||(m[h].x=l,m[h].y=s,m[h].k=!0),d=Date.now();requestAnimationFrame(k)}else m=m.filter(function(n){return n.k}),requestAnimationFrame(q)};requestAnimationFrame(k);var q=function(){g(m)};return n}var t,r,e,u,i=0,a=0,o=1,f=12;n.bins=function(t){return arguments.length?(i=t,n):i},n.indices=function(t){return arguments.length?(a=t[0],o=t[1],n):[a,o]},n.interval=function(t){return arguments.length?(f=t,n):f},n.domain=function(r){return arguments.length?(t=r,n):t},n.size=function(t){return arguments.length?(r=[t[0]/i,t[1]/i],n):r};var c=function(n){var t=+n[0],r=+n[n.length-1],e=i/(r-t),u=i-1;return function(n){return Math.max(0,Math.min(u,Math.floor(e*(n-t))))}};return n}}();